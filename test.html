<script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest"></script>
<script src="dist/bundle.js"></script>
<script src="https://unpkg.com/konva@8.4.0/konva.min.js"></script>

<div id="editorjs"></div>

<button id="save-button">Save</button>
<pre id="output"></pre>

<script>
  const editor = new EditorJS({
    autofocus: true,
    tools: {
      image: {
        class: ImageTool,
        config: {
          endpoints: {
            byFile: "http://localhost:8008/uploadFile", // Your backend file uploader endpoint
            byUrl: "http://localhost:8008/fetchUrl", // Your endpoint that provides uploading by Url
          },
        },
      },
    },

    data: {
      time: 1552744582955,
      blocks: [
        {
          type: "image",
          data: {
            file: {
              url: "https://via.placeholder.com/560x315",
            },
            caption: "Resized Image",
            withBorder: false,
            withBackground: false,
            stretched: false,
            width: 400,
            height: 200,
          },
        },
        {
          type: "image",
          data: {
            file: {
              url: "https://via.placeholder.com/1280x720",
            },
            caption: "Large Image",
            withBorder: false,
            withBackground: false,
            stretched: false,
          },
        },
        {
          type: "image",
          data: {
            file: {
              url: "https://via.placeholder.com/480x270",
            },
            caption: "Small Image",
            withBorder: false,
            withBackground: false,
            stretched: false,
          },
        },
      ],
      version: "2.11.10",
    },
  });

  const saveButton = document.getElementById("save-button");
  const output = document.getElementById("output");

  saveButton.addEventListener("click", () => {
    editor.save().then((savedData) => {
      output.innerHTML = JSON.stringify(savedData, null, 4);
    });
  });
</script>
